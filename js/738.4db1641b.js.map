{"version":3,"file":"js/738.4db1641b.js","mappings":"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","sources":["webpack://gestion-proyectos/./src/components/users/AdminUsers.vue","webpack://gestion-proyectos/./src/components/users/AdminUsers.vue?d3d8"],"sourcesContent":["<template>\r\n    <div class=\"users-page\">\r\n      <header class=\"header\">\r\n        <router-link to=\"/\" class=\"brand\">OrganizeHub</router-link>\r\n        <div class=\"buttons\">\r\n          <router-link to=\"/dashboard\" class=\"dashboard-button\">\r\n            <el-button type=\"primary\" round size=\"large\">Dashboard</el-button>\r\n          </router-link>\r\n          <router-link to=\"/users\" class=\"admin-button\">\r\n            <el-button type=\"primary\" round size=\"large\">Users</el-button>\r\n          </router-link>\r\n          <el-button @click=\"logout\" type=\"primary\" round size=\"large\">Logout</el-button>\r\n        </div>\r\n      </header>\r\n  \r\n      <main class=\"user-list\">\r\n        <h2>User List</h2>\r\n        <el-table :data=\"users\" style=\"width: 100%\">\r\n          <el-table-column prop=\"user_id\" label=\"ID\" width=\"80\"></el-table-column>\r\n          <el-table-column prop=\"nombre\" label=\"Name\"></el-table-column>\r\n          <el-table-column prop=\"email\" label=\"Email\"></el-table-column>\r\n          <el-table-column prop=\"role\" label=\"Role\"></el-table-column>\r\n          <el-table-column prop=\"active\" label=\"Active\"></el-table-column>\r\n          <el-table-column label=\"Actions\" width=\"180\">\r\n            <template #default=\"scope\">\r\n              <el-button @click=\"editUser(scope.row)\" type=\"text\" icon=\"el-icon-edit\">Edit</el-button>\r\n              <el-button @click=\"deleteUser(scope.row.user_id)\" type=\"text\" icon=\"el-icon-delete\">Delete</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </main>\r\n  \r\n      <!-- Modal for editing user -->\r\n      <el-dialog\r\n        v-model=\"editUserDialogVisible\"\r\n        title=\"Edit User\"\r\n        width=\"30%\"\r\n        :before-close=\"closeEditUserDialog\"\r\n      >\r\n        <el-form ref=\"editForm\" :model=\"editUserForm\" label-width=\"120px\">\r\n          <el-form-item label=\"ID\">\r\n            <el-input v-model=\"editUserForm.user_id\" disabled></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"Name\">\r\n            <el-input v-model=\"editUserForm.nombre\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"Email\">\r\n            <el-input v-model=\"editUserForm.email\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"Role\">\r\n            <el-input v-model=\"editUserForm.role\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"Active\">\r\n            <el-switch v-model=\"editUserForm.active\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"></el-switch>\r\n          </el-form-item>\r\n        </el-form>\r\n        <span class=\"dialog-footer\">\r\n          <el-button @click=\"closeEditUserDialog\">Cancel</el-button>\r\n          <el-button type=\"primary\" @click=\"saveEditedUser\">Save</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        users: [],\r\n        editUserDialogVisible: false,\r\n        editUserForm: {\r\n          user_id: '',\r\n          nombre: '',\r\n          email: '',\r\n          role: '',\r\n          active: false,\r\n        },\r\n      };\r\n    },\r\n    methods: {\r\n      logout() {\r\n        this.$store.commit('clearUser');\r\n        this.$router.push('/'); // Redirect to login or home page\r\n      },\r\n      fetchUsers() {\r\n        axios.get('/users') // Update with your actual backend API endpoint\r\n          .then(response => {\r\n            this.users = response.data.users; // Assuming backend returns { success: true, users: [...] }\r\n          })\r\n          .catch(error => {\r\n            console.error('Error fetching users', error);\r\n            // Handle error gracefully, show error message, etc.\r\n          });\r\n      },\r\n      editUser(user) {\r\n        // Populate edit form with user data\r\n        this.editUserForm.user_id = user.user_id;\r\n        this.editUserForm.nombre = user.nombre;\r\n        this.editUserForm.email = user.email;\r\n        this.editUserForm.active = user.active;\r\n        this.editUserForm.role = user.role;\r\n        \r\n  \r\n        // Show edit user dialog\r\n        this.editUserDialogVisible = true;\r\n      },\r\n      async saveEditedUser() {\r\n      try {\r\n        const { user_id, ...editData } = this.editUserForm;\r\n        console.log('Updating user with ID:', user_id); // Log to verify user_id\r\n\r\n        const response = await axios.put(`http://localhost:3000/users/${user_id}`, editData);\r\n        const updatedUser = response.data.user;\r\n\r\n        // Update users array in frontend\r\n        const index = this.users.findIndex(user => user.user_id === updatedUser.user_id);\r\n        if (index !== -1) {\r\n          this.users.splice(index, 1, updatedUser);\r\n        }\r\n\r\n        this.editUserDialogVisible = false; // Close edit dialog\r\n        this.$message.success('User updated successfully.');\r\n      } catch (error) {\r\n        console.error('Error updating user', error);\r\n        this.$message.error('Failed to update user.');\r\n      }\r\n    },\r\n  \r\n      deleteUser(userId) {\r\n        // Implement delete user functionality if needed\r\n        console.log('Deleting user with ID:', userId);\r\n      }\r\n      \r\n    },\r\n    created() {\r\n      this.fetchUsers(); // Fetch users when component is created\r\n    }\r\n    \r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 20px;\r\n    position: relative;\r\n    background-color: rgba(26, 26, 26, 0.7);\r\n  }\r\n  \r\n  .brand {\r\n  color: #020202;\r\n  font-size: 2rem;\r\n  z-index: 1;\r\n  text-decoration: none;\r\n}\r\n  .buttons {\r\n    z-index: 1;\r\n  }\r\n  \r\n  .dashboard-button,\r\n  .admin-button {\r\n    padding-right: 10px; /* Adjust spacing as needed */\r\n  }\r\n  \r\n  .user-list {\r\n    padding: 20px;\r\n  }\r\n  </style>\r\n  ","import { render } from \"./AdminUsers.vue?vue&type=template&id=ebd6b59c&scoped=true\"\nimport script from \"./AdminUsers.vue?vue&type=script&lang=js\"\nexport * from \"./AdminUsers.vue?vue&type=script&lang=js\"\n\nimport \"./AdminUsers.vue?vue&type=style&index=0&id=ebd6b59c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ebd6b59c\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_router_link","to","_hoisted_3","_component_el_button","type","round","size","onClick","$options","logout","_hoisted_4","_hoisted_5","_component_el_table","data","$data","users","style","_component_el_table_column","prop","label","width","default","_withCtx","scope","$event","editUser","row","icon","deleteUser","user_id","_component_el_dialog","editUserDialogVisible","title","_ctx","closeEditUserDialog","_component_el_form","ref","model","editUserForm","_component_el_form_item","_component_el_input","disabled","nombre","email","role","_component_el_switch","active","_hoisted_6","saveEditedUser","methods","this","$store","commit","$router","push","fetchUsers","axios","get","then","response","catch","error","console","user","editData","log","put","updatedUser","index","findIndex","splice","$message","success","userId","created","__exports__","render"],"sourceRoot":""}